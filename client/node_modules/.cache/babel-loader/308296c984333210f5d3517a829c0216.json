{"ast":null,"code":"'use strict';\n\nconst DuplexStream = require('readable-stream').Duplex;\n\nconst inherits = require('inherits');\n\nconst BufferList = require('./BufferList');\n\nfunction BufferListStream(callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback);\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback;\n\n    const piper = function piper(err) {\n      if (this._callback) {\n        this._callback(err);\n\n        this._callback = null;\n      }\n    }.bind(this);\n\n    this.on('pipe', function onPipe(src) {\n      src.on('error', piper);\n    });\n    this.on('unpipe', function onUnpipe(src) {\n      src.removeListener('error', piper);\n    });\n    callback = null;\n  }\n\n  BufferList._init.call(this, callback);\n\n  DuplexStream.call(this);\n}\n\ninherits(BufferListStream, DuplexStream);\nObject.assign(BufferListStream.prototype, BufferList.prototype);\n\nBufferListStream.prototype._new = function _new(callback) {\n  return new BufferListStream(callback);\n};\n\nBufferListStream.prototype._write = function _write(buf, encoding, callback) {\n  this._appendBuffer(buf);\n\n  if (typeof callback === 'function') {\n    callback();\n  }\n};\n\nBufferListStream.prototype._read = function _read(size) {\n  if (!this.length) {\n    return this.push(null);\n  }\n\n  size = Math.min(size, this.length);\n  this.push(this.slice(0, size));\n  this.consume(size);\n};\n\nBufferListStream.prototype.end = function end(chunk) {\n  DuplexStream.prototype.end.call(this, chunk);\n\n  if (this._callback) {\n    this._callback(null, this.slice());\n\n    this._callback = null;\n  }\n};\n\nBufferListStream.prototype._destroy = function _destroy(err, cb) {\n  this._bufs.length = 0;\n  this.length = 0;\n  cb(err);\n};\n\nBufferListStream.prototype._isBufferList = function _isBufferList(b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b);\n};\n\nBufferListStream.isBufferList = BufferList.isBufferList;\nmodule.exports = BufferListStream;\nmodule.exports.BufferListStream = BufferListStream;\nmodule.exports.BufferList = BufferList;","map":{"version":3,"names":["DuplexStream","require","Duplex","inherits","BufferList","BufferListStream","callback","_callback","piper","err","bind","on","onPipe","src","onUnpipe","removeListener","_init","call","Object","assign","prototype","_new","_write","buf","encoding","_appendBuffer","_read","size","length","push","Math","min","slice","consume","end","chunk","_destroy","cb","_bufs","_isBufferList","b","isBufferList","module","exports"],"sources":["C:/Users/Shreyas/Desktop/DREAMS/DMR-master/DREAMS-system/client/node_modules/tar-stream/node_modules/bl/bl.js"],"sourcesContent":["'use strict'\n\nconst DuplexStream = require('readable-stream').Duplex\nconst inherits = require('inherits')\nconst BufferList = require('./BufferList')\n\nfunction BufferListStream (callback) {\n  if (!(this instanceof BufferListStream)) {\n    return new BufferListStream(callback)\n  }\n\n  if (typeof callback === 'function') {\n    this._callback = callback\n\n    const piper = function piper (err) {\n      if (this._callback) {\n        this._callback(err)\n        this._callback = null\n      }\n    }.bind(this)\n\n    this.on('pipe', function onPipe (src) {\n      src.on('error', piper)\n    })\n    this.on('unpipe', function onUnpipe (src) {\n      src.removeListener('error', piper)\n    })\n\n    callback = null\n  }\n\n  BufferList._init.call(this, callback)\n  DuplexStream.call(this)\n}\n\ninherits(BufferListStream, DuplexStream)\nObject.assign(BufferListStream.prototype, BufferList.prototype)\n\nBufferListStream.prototype._new = function _new (callback) {\n  return new BufferListStream(callback)\n}\n\nBufferListStream.prototype._write = function _write (buf, encoding, callback) {\n  this._appendBuffer(buf)\n\n  if (typeof callback === 'function') {\n    callback()\n  }\n}\n\nBufferListStream.prototype._read = function _read (size) {\n  if (!this.length) {\n    return this.push(null)\n  }\n\n  size = Math.min(size, this.length)\n  this.push(this.slice(0, size))\n  this.consume(size)\n}\n\nBufferListStream.prototype.end = function end (chunk) {\n  DuplexStream.prototype.end.call(this, chunk)\n\n  if (this._callback) {\n    this._callback(null, this.slice())\n    this._callback = null\n  }\n}\n\nBufferListStream.prototype._destroy = function _destroy (err, cb) {\n  this._bufs.length = 0\n  this.length = 0\n  cb(err)\n}\n\nBufferListStream.prototype._isBufferList = function _isBufferList (b) {\n  return b instanceof BufferListStream || b instanceof BufferList || BufferListStream.isBufferList(b)\n}\n\nBufferListStream.isBufferList = BufferList.isBufferList\n\nmodule.exports = BufferListStream\nmodule.exports.BufferListStream = BufferListStream\nmodule.exports.BufferList = BufferList\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}