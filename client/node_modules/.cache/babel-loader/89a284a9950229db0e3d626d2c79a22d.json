{"ast":null,"code":"'use strict'; //read a number of items and then stop.\n\nmodule.exports = function take(test, opts) {\n  opts = opts || {};\n  var last = opts.last || false; // whether the first item for which !test(item) should still pass\n\n  var ended = false;\n\n  if ('number' === typeof test) {\n    last = true;\n    var n = test;\n\n    test = function () {\n      return --n;\n    };\n  }\n\n  return function (read) {\n    function terminate(cb) {\n      read(true, function (err) {\n        last = false;\n        cb(err || true);\n      });\n    }\n\n    return function (end, cb) {\n      if (ended && !end) last ? terminate(cb) : cb(ended);else if (ended = end) read(ended, cb);else read(null, function (end, data) {\n        if (ended = ended || end) {\n          //last ? terminate(cb) :\n          cb(ended);\n        } else if (!test(data)) {\n          ended = true;\n          last ? cb(null, data) : terminate(cb);\n        } else cb(null, data);\n      });\n    };\n  };\n};","map":{"version":3,"names":["module","exports","take","test","opts","last","ended","n","read","terminate","cb","err","end","data"],"sources":["C:/Users/Shreyas/Desktop/DMR-master/client/node_modules/pull-stream/throughs/take.js"],"sourcesContent":["'use strict'\n\n//read a number of items and then stop.\nmodule.exports = function take (test, opts) {\n  opts = opts || {}\n  var last = opts.last || false // whether the first item for which !test(item) should still pass\n  var ended = false\n  if('number' === typeof test) {\n    last = true\n    var n = test; test = function () {\n      return --n\n    }\n  }\n\n  return function (read) {\n\n    function terminate (cb) {\n      read(true, function (err) {\n        last = false; cb(err || true)\n      })\n    }\n\n    return function (end, cb) {\n      if(ended && !end) last ? terminate(cb) : cb(ended)\n      else if(ended = end) read(ended, cb)\n      else\n        read(null, function (end, data) {\n          if(ended = ended || end) {\n            //last ? terminate(cb) :\n            cb(ended)\n          }\n          else if(!test(data)) {\n            ended = true\n            last ? cb(null, data) : terminate(cb)\n          }\n          else\n            cb(null, data)\n        })\n    }\n  }\n}\n"],"mappings":"AAAA,a,CAEA;;AACAA,MAAM,CAACC,OAAP,GAAiB,SAASC,IAAT,CAAeC,IAAf,EAAqBC,IAArB,EAA2B;EAC1CA,IAAI,GAAGA,IAAI,IAAI,EAAf;EACA,IAAIC,IAAI,GAAGD,IAAI,CAACC,IAAL,IAAa,KAAxB,CAF0C,CAEZ;;EAC9B,IAAIC,KAAK,GAAG,KAAZ;;EACA,IAAG,aAAa,OAAOH,IAAvB,EAA6B;IAC3BE,IAAI,GAAG,IAAP;IACA,IAAIE,CAAC,GAAGJ,IAAR;;IAAcA,IAAI,GAAG,YAAY;MAC/B,OAAO,EAAEI,CAAT;IACD,CAFa;EAGf;;EAED,OAAO,UAAUC,IAAV,EAAgB;IAErB,SAASC,SAAT,CAAoBC,EAApB,EAAwB;MACtBF,IAAI,CAAC,IAAD,EAAO,UAAUG,GAAV,EAAe;QACxBN,IAAI,GAAG,KAAP;QAAcK,EAAE,CAACC,GAAG,IAAI,IAAR,CAAF;MACf,CAFG,CAAJ;IAGD;;IAED,OAAO,UAAUC,GAAV,EAAeF,EAAf,EAAmB;MACxB,IAAGJ,KAAK,IAAI,CAACM,GAAb,EAAkBP,IAAI,GAAGI,SAAS,CAACC,EAAD,CAAZ,GAAmBA,EAAE,CAACJ,KAAD,CAAzB,CAAlB,KACK,IAAGA,KAAK,GAAGM,GAAX,EAAgBJ,IAAI,CAACF,KAAD,EAAQI,EAAR,CAAJ,CAAhB,KAEHF,IAAI,CAAC,IAAD,EAAO,UAAUI,GAAV,EAAeC,IAAf,EAAqB;QAC9B,IAAGP,KAAK,GAAGA,KAAK,IAAIM,GAApB,EAAyB;UACvB;UACAF,EAAE,CAACJ,KAAD,CAAF;QACD,CAHD,MAIK,IAAG,CAACH,IAAI,CAACU,IAAD,CAAR,EAAgB;UACnBP,KAAK,GAAG,IAAR;UACAD,IAAI,GAAGK,EAAE,CAAC,IAAD,EAAOG,IAAP,CAAL,GAAoBJ,SAAS,CAACC,EAAD,CAAjC;QACD,CAHI,MAKHA,EAAE,CAAC,IAAD,EAAOG,IAAP,CAAF;MACH,CAXG,CAAJ;IAYH,CAhBD;EAiBD,CAzBD;AA0BD,CArCD"},"metadata":{},"sourceType":"script"}